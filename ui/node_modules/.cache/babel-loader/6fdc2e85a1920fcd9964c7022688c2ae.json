{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar ethers_1 = require(\"ethers\");\n\nvar context_1 = __importDefault(require(\"./context\"));\n\nvar manager_1 = __importDefault(require(\"./manager\"));\n\nfunction useWeb3Context() {\n  return react_1.useContext(context_1.default);\n}\n\nexports.useWeb3Context = useWeb3Context;\n\nfunction Web3Provider(_a) {\n  var connectors = _a.connectors,\n      libraryName = _a.libraryName,\n      Web3 = _a.web3Api,\n      children = _a.children;\n\n  var _b = manager_1.default(connectors),\n      active = _b.web3Initialized,\n      web3State = _b.web3State,\n      connector = _b.connector,\n      setConnector = _b.setConnector,\n      setFirstValidConnector = _b.setFirstValidConnector,\n      unsetConnector = _b.unsetConnector,\n      setError = _b.setError;\n\n  var connectorName = web3State.connectorName,\n      provider = web3State.provider,\n      networkId = web3State.networkId,\n      account = web3State.account,\n      error = web3State.error;\n\n  var providerToInject = provider && function () {\n    switch (libraryName) {\n      case 'ethers.js':\n        return new ethers_1.ethers.providers.Web3Provider(provider);\n\n      case 'web3.js':\n        return new Web3(provider);\n\n      case null:\n        return provider;\n    }\n  }();\n\n  var context = {\n    active: active,\n    connectorName: connectorName,\n    connector: connector,\n    library: providerToInject,\n    networkId: networkId,\n    account: account,\n    error: error,\n    setConnector: setConnector,\n    setFirstValidConnector: setFirstValidConnector,\n    unsetConnector: unsetConnector,\n    setError: setError\n  };\n  return react_1.default.createElement(context_1.default.Provider, {\n    value: context\n  }, children);\n}\n\nexports.default = Web3Provider;\n\nfunction Web3Consumer(_a) {\n  var _b = _a.recreateOnNetworkChange,\n      recreateOnNetworkChange = _b === void 0 ? true : _b,\n      _c = _a.recreateOnAccountChange,\n      recreateOnAccountChange = _c === void 0 ? true : _c,\n      children = _a.children;\n  return react_1.default.createElement(context_1.default.Consumer, null, function (context) {\n    return react_1.default.createElement(react_1.Fragment, {\n      key: recreateOnNetworkChange && context.networkId || undefined\n    }, react_1.default.createElement(react_1.Fragment, {\n      key: recreateOnAccountChange && context.account || undefined\n    }, children(context)));\n  });\n}\n\nexports.Web3Consumer = Web3Consumer;\n\nfunction withWeb3(ComponentToWrap, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.recreateOnNetworkChange,\n      recreateOnNetworkChange = _c === void 0 ? true : _c,\n      _d = _b.recreateOnAccountChange,\n      recreateOnAccountChange = _d === void 0 ? true : _d;\n\n  var WithWeb3 =\n  /** @class */\n  function (_super) {\n    __extends(WithWeb3, _super);\n\n    function WithWeb3() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    WithWeb3.prototype.render = function () {\n      var _this = this;\n\n      return react_1.default.createElement(Web3Consumer, {\n        recreateOnNetworkChange: recreateOnNetworkChange,\n        recreateOnAccountChange: recreateOnAccountChange\n      }, function (context) {\n        return react_1.default.createElement(ComponentToWrap, __assign({}, _this.props, {\n          web3: context\n        }));\n      });\n    };\n\n    return WithWeb3;\n  }(react_1.Component);\n\n  ;\n  WithWeb3.displayName = \"withWeb3(\" + (ComponentToWrap.displayName || ComponentToWrap.name || 'Component') + \")\";\n  return WithWeb3;\n}\n\nexports.withWeb3 = withWeb3;","map":null,"metadata":{},"sourceType":"script"}